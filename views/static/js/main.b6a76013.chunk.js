(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(68)},37:function(e,t,n){},38:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),l=n.n(c),o=(n(37),n(38),n(1)),u=n(2),i=n(4),s=n(3),m=n(5),p=n(11),d=n.n(p),f=function(e){return function(t){t({type:"ADD_TO_CART",payload:e})}},h=n(7),E=(n(60),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).close=function(){n.setState({open:!1})},n.state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){e.open!=this.props.open&&this.setState({open:this.props.open})}},{key:"render",value:function(){var e=this.state.open,t=this.props,n=t.title,a=t.children;return e?r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"overlay",onClick:this.close}),r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,n),r.a.createElement("span",{className:"close",onClick:this.close},"X"),r.a.createElement("div",{className:"children"},a))):null}}]),t}(a.Component)),b=n(28),O=n(12),v=(n(61),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).submit=function(e){e.preventDefault(),console.log("submit");var t=n.props.product,a=n.refs,r=a.name,c=a.price,l=a.image,o=Object(O.a)({},t,{name:r.value,price:c.value,image:l.value});console.log(t,o),d.a.put("https://fullstack-store.herokuapp.com/products",o).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})},n.state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){Object(b.a)(this.state);var e=this.props.product,t=void 0===e?{}:e,n=t.name,a=t.price,c=t.image;return r.a.createElement("form",{className:"updateProduct",onSubmit:this.submit},r.a.createElement("label",null,r.a.createElement("span",null,"\u05e9\u05dd:"),r.a.createElement("input",{required:!0,ref:"name",defaultValue:n,type:"text",placeholder:"\u05e9\u05dd \u05d4\u05de\u05d5\u05e6\u05e8"})),r.a.createElement("label",null,r.a.createElement("span",null,"\u05de\u05d7\u05d9\u05e8:"),r.a.createElement("input",{ref:"price",defaultValue:a,type:"number",placeholder:"\u05de\u05d7\u05d9\u05e8 \u05d4\u05de\u05d5\u05e6\u05e8"})),r.a.createElement("label",null,r.a.createElement("span",null,"\u05ea\u05de\u05d5\u05e0\u05d4:"),r.a.createElement("input",{ref:"image",defaultValue:c,type:"text",placeholder:"\u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05ea\u05de\u05d5\u05e0\u05d4"})),r.a.createElement("input",{type:"submit",value:"\u05e9\u05dc\u05d7"}))}}]),t}(a.Component)),j=(n(62),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).update=function(e){n.setState({updateMode:e})},n.state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.addToCart,a=t.id,c=t.name,l=t.image,o=(t.amount,t.price),u=t.cart,i=void 0===u?[]:u,s=t.adminMode,m=this.state.updateMode,p=i.find(function(e){return e.id==a})||{};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{open:m,title:"\u05e2\u05e8\u05d9\u05db\u05ea \u05de\u05d5\u05e6\u05e8: ".concat(c)},r.a.createElement(v,{product:this.props})),r.a.createElement("div",{className:"product ".concat(s?"editMode":"")},r.a.createElement("img",{src:l}),r.a.createElement("div",null,c),r.a.createElement("div",null,"\u20aa",o),r.a.createElement("button",{onClick:s?function(){return e.update({id:a,name:c,image:l,price:o,amount:(p.amount||0)+1})}:function(){return n({id:a,name:c,image:l,price:o,amount:(p.amount||0)+1})}},s?"\u05e2\u05e8\u05d9\u05db\u05d4":"\u05d4\u05d5\u05e1\u05e3 \u05dc\u05e1\u05dc (".concat(p.amount||"",")"))))}}]),t}(a.Component)),y=Object(h.b)(function(e){return{cart:e.cart,adminMode:e.adminMode}},{addToCart:f})(j),g=(n(63),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this.props.products,t=void 0===e?[]:e;return r.a.createElement("div",{className:"productsList"},t.map(function(e){return r.a.createElement(y,Object.assign({key:e.name},e))}))}}]),t}(a.Component)),C=Object(h.b)(function(e){return{products:e.products}},{fetchProducts:function(){return function(e){d.a.get("https://fullstack-store.herokuapp.com/products").then(function(t){return e({type:"PRODUCTS_FETCHED",payload:t.data})}).catch(function(t){return e({type:"PRODUCTS_FETCHED_ERROR",payload:t})})}}})(g),k=(n(64),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.product,n=e.addToCart;return r.a.createElement("li",{className:"cartItem"},r.a.createElement("img",{src:t.image}),r.a.createElement("div",{className:"name"},r.a.createElement("label",null,t.name),r.a.createElement("div",null,"\u20aa",t.price)),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){n(Object(O.a)({},t,{amount:t.amount-1}))}},"-"),r.a.createElement("span",null,t.amount),r.a.createElement("button",{onClick:function(){n(Object(O.a)({},t,{amount:t.amount+1}))}},"+")))}}]),t}(a.Component)),N=Object(h.b)(function(e){return{}},{addToCart:f})(k),D=(n(65),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cartOpen,n=e.cart,a=e.clearCart;return r.a.createElement("div",{className:"cart ".concat(t?"cartOpen":"")},r.a.createElement("h2",null,"\u05e8\u05e9\u05d9\u05de\u05ea \u05e7\u05e0\u05d9\u05d5\u05ea"),n.length?r.a.createElement("img",{onClick:a,className:"clear",src:"http://cdn.onlinewebfonts.com/svg/img_411751.png"}):null,r.a.createElement("ul",null,n.map(function(e){return r.a.createElement(N,{key:e.id,product:e})})),r.a.createElement("h3",null,r.a.createElement("label",null,'\u05e1\u05d4"\u05db:'),r.a.createElement("span",null,"\u20aa",n.reduce(function(e,t){return e+t.price*t.amount},0))))}}]),t}(a.Component)),M=Object(h.b)(function(e){return{cart:e.cart}},{addToCart:f,clearCart:function(){return function(e){e({type:"CLEAR_CART",payload:[]})}}})(D),T=(n(66),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).submit=function(e){e.preventDefault(),console.log("submit");var t=n.refs,a=t.username,r=t.password,c={username:a.value,password:r.value};console.log(c),d.a.post("https://fullstack-store.herokuapp.com/login",c).then(function(e){e.data.error?n.setState({error:e.data.error}):n.setState({error:""}),console.log(e)}).catch(function(e){n.setState({error:e.data.error})})},n.state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("form",{className:"login",onSubmit:this.submit},r.a.createElement("label",null,r.a.createElement("span",null,"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9:"),r.a.createElement("input",{required:!0,ref:"username",type:"text",placeholder:"\u05e9\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e9\u05dc\u05da"})),r.a.createElement("label",null,r.a.createElement("span",null,"\u05e1\u05d9\u05e1\u05de\u05d0:"),r.a.createElement("input",{required:!0,ref:"password",type:"password",placeholder:"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e9\u05dc\u05da"})),e?r.a.createElement("div",{className:"error"},e):null,r.a.createElement("input",{type:"submit",value:"\u05db\u05e0\u05d9\u05e1\u05d4"}))}}]),t}(a.Component)),_=(n(67),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.changeAdminMode,a=t.adminMode,c=this.state,l=c.cartOpen,o=c.loginMode;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{open:o,title:"\u05db\u05e0\u05d9\u05e1\u05d4"},r.a.createElement(T,null)),r.a.createElement("header",null,r.a.createElement("div",{className:"content"},r.a.createElement("div",{onClick:function(){return n(!a)},className:"adminModeBtn"},a?"\u05de\u05e6\u05d1 \u05de\u05e0\u05d4\u05dc":"\u05e2\u05d1\u05d5\u05e8 \u05dc\u05de\u05e6\u05d1 \u05de\u05e0\u05d4\u05dc"),r.a.createElement("div",{className:"loginBtn",onClick:function(){return e.setState({loginMode:!o})}},"\u05db\u05e0\u05d9\u05e1\u05d4"),r.a.createElement("div",null,"SuperStore"),r.a.createElement("div",{className:"headerCart"},r.a.createElement("span",{onClick:function(){return e.setState({cartOpen:!e.state.cartOpen})}},"\u05e2\u05d2\u05dc\u05d4"),r.a.createElement(M,{cartOpen:l})))))}}]),t}(a.Component)),w=Object(h.b)(function(e){return{adminMode:e.adminMode}},{changeAdminMode:function(e){return function(t){t({type:"ADMIN_MODE_CHANGED",payload:e})}}})(_);var R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null),r.a.createElement(C,null))},S=n(9),A=n(29),P=n(30),F=n(31),H=Object(S.c)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var n=e.findIndex(function(e){return e.id==t.payload.id});return-1==n?e.push(t.payload):t.payload.amount<=0?e.splice(n,1):e[n]=t.payload,Object(F.a)(e);case"CLEAR_CART":return[];default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTS_FETCHED":return t.payload;case"PRODUCTS_FETCHED_ERROR":return[];default:return e}},adminMode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN_MODE_CHANGED":return t.payload;default:return e}}}),x=Object(S.d)(H,Object(S.a)(P.a,Object(A.createLogger)()));l.a.render(r.a.createElement(h.a,{store:x},r.a.createElement(R,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.b6a76013.chunk.js.map