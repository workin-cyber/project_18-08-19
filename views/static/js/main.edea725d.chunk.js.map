{"version":3,"sources":["actions/index.js","modal/index.js","updateProduct/index.js","product/index.js","productsList/index.js","cart/cartItem/index.js","cart/index.js","login/index.js","header/index.js","App.js","reducers/index.js","reducers/cart.js","reducers/products.js","reducers/adminMode.js","index.js"],"names":["addToCart","product","dispatch","type","payload","Modal","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","close","setState","open","state","prevProps","_this$props","title","children","react_default","a","createElement","className","onClick","Component","UpdateProduct","submit","e","preventDefault","console","log","_this$refs","refs","name","price","image","newProduct","objectSpread","value","axios","put","then","res","window","location","reload","catch","err","objectDestructuringEmpty","_this$props$product","onSubmit","required","ref","defaultValue","placeholder","Product","update","updateMode","_this2","id","amount","_this$props$cart","cart","adminMode","cartProduct","find","p","Fragment","src_modal","concat","src_updateProduct","src","connect","ProductsList","fetchProducts","_this$props$products","products","map","prod","src_product","assign","key","get","data","error","CartItem","Cart","cartOpen","clearCart","length","cart_cartItem","reduce","acc","curr","Login","username","password","loginObj","post","Header","changeAdminMode","_this$state","loginMode","src_login","src_cart","mode","App","src_header","productsList","allReducers","combineReducers","arguments","undefined","index","findIndex","push","splice","toConsumableArray","store","createStore","allReducrs","applyMiddleware","thunk","createLogger","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.edea725d.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nexport const fetchProducts = () => dispatch => {\r\n    axios.get('http://localhost:1200/products')\r\n        .then(res => dispatch({ type: 'PRODUCTS_FETCHED', payload: res.data }))\r\n        .catch(error => dispatch({ type: 'PRODUCTS_FETCHED_ERROR', payload: error }))\r\n}\r\n\r\nexport const addToCart = product => dispatch => {\r\n    dispatch({ type: 'ADD_TO_CART', payload: product })\r\n}\r\n\r\nexport const clearCart = () => dispatch => {\r\n    dispatch({ type: 'CLEAR_CART', payload: [] })\r\n}\r\n\r\nexport const changeAdminMode = mode => dispatch => {\r\n    dispatch({ type: 'ADMIN_MODE_CHANGED', payload: mode })\r\n}","import React, { Component } from 'react'\r\nimport './modal.css'\r\n\r\nclass Modal extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {}\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.open != this.props.open)\r\n            this.setState({ open: this.props.open })\r\n    }\r\n    \r\n    close = () => {\r\n        this.setState({ open: false })\r\n    }\r\n\r\n    render() {\r\n        const { open } = this.state,\r\n            { title, children } = this.props\r\n        //const open = this.props.open\r\n\r\n        return open ? <div className='modal'>\r\n            <div className='overlay' onClick={this.close}></div>\r\n            <div className='content'>\r\n                <h3>{title}</h3>\r\n                <span className='close' onClick={this.close}>X</span>\r\n                <div className='children'>{children}</div>\r\n            </div>\r\n        </div> : null\r\n    }\r\n\r\n}\r\n\r\nexport default Modal","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport './updateProduct.css'\r\n\r\nclass UpdateProduct extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {}\r\n    }\r\n\r\n    submit = e => {\r\n        e.preventDefault()\r\n        console.log('submit')\r\n\r\n        const { product } = this.props,\r\n            { name, price, image } = this.refs\r\n\r\n        const newProduct = {\r\n            ...product,\r\n            name: name.value,\r\n            price: price.value,\r\n            image: image.value,\r\n        }\r\n        console.log(product, newProduct)\r\n        axios.put('http://localhost:1200/products', newProduct)\r\n            .then(res => {\r\n                window.location.reload()\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { } = this.state,\r\n            { product = {} } = this.props,\r\n            { name, price, image } = product\r\n\r\n        return <form className='updateProduct' onSubmit={this.submit}>\r\n\r\n            <label>\r\n                <span>שם:</span>\r\n                <input required ref='name' defaultValue={name} type='text' placeholder='שם המוצר' />\r\n            </label>\r\n\r\n            <label>\r\n                <span>מחיר:</span>\r\n                <input ref='price' defaultValue={price} type='number' placeholder='מחיר המוצר' />\r\n            </label>\r\n\r\n            <label>\r\n                <span>תמונה:</span>\r\n                <input ref='image' defaultValue={image} type='text' placeholder='קישור לתמונה' />\r\n            </label>\r\n\r\n            <input type='submit' value='שלח' />\r\n        </form>\r\n    }\r\n\r\n}\r\n\r\nexport default UpdateProduct","import React, { Component } from 'react'\r\nimport { addToCart } from '../actions'\r\nimport { connect } from 'react-redux'\r\nimport Modal from '../modal'\r\nimport UpdateProduct from '../updateProduct'\r\nimport './product.css'\r\n\r\nclass Product extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {}\r\n    }\r\n\r\n    update = product => {\r\n        this.setState({ updateMode: product })\r\n    }\r\n\r\n    render() {\r\n        const { addToCart, id, name, image, amount, price, cart = [], adminMode } = this.props,\r\n            { updateMode } = this.state,\r\n            cartProduct = cart.find(p => p.id == id) || {}\r\n\r\n        return <>\r\n            <Modal open={updateMode} title={`עריכת מוצר: ${name}`}>\r\n                <UpdateProduct product={this.props} />\r\n            </Modal>\r\n            <div className={`product ${adminMode ? 'editMode' : ''}`}>\r\n                <img src={image} />\r\n                <div>{name}</div>\r\n                <div>₪{price}</div>\r\n                <button onClick={\r\n                    adminMode ? () => this.update({\r\n                        id,\r\n                        name,\r\n                        image,\r\n                        price,\r\n                        amount: ((cartProduct.amount || 0) + 1)\r\n                    }) :\r\n                        () => addToCart({\r\n                            id,\r\n                            name,\r\n                            image,\r\n                            price,\r\n                            amount: ((cartProduct.amount || 0) + 1)\r\n                        })}>{adminMode ? 'עריכה' : `הוסף לסל (${cartProduct.amount || ''})`}</button>\r\n            </div>\r\n        </>\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default connect(state => ({\r\n    cart: state.cart,\r\n    adminMode: state.adminMode\r\n}), { addToCart })(Product)","import React, { Component } from 'react'\r\nimport { fetchProducts } from '../actions'\r\nimport { connect } from 'react-redux'\r\nimport Product from '../product'\r\nimport './products.css'\r\n\r\nclass ProductsList extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.fetchProducts()\r\n    }\r\n\r\n    render() {\r\n        const { products = [] } = this.props\r\n\r\n        return <div className='productsList'>{\r\n            products.map(prod => <Product key={prod.name} {...prod} />)\r\n        }</div>\r\n\r\n    }\r\n}\r\n\r\nexport default connect(state => ({\r\n    products: state.products\r\n}), { fetchProducts })(ProductsList)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { addToCart } from '../../actions'\r\nimport './cartItem.css'\r\n\r\n\r\nclass CartItem extends Component {\r\n    render() {\r\n        const { product, addToCart } = this.props\r\n\r\n        return <li className='cartItem'>\r\n            <img src={product.image} />\r\n            <div className='name'>\r\n                <label>{product.name}</label>\r\n                <div>₪{product.price}</div>\r\n            </div>\r\n            <div>\r\n                <button onClick={() => {\r\n                    addToCart({...product,amount:product.amount - 1})\r\n                }}>-</button>\r\n                <span>{product.amount}</span>\r\n                <button onClick={() => {\r\n                    addToCart({...product,amount:product.amount + 1})\r\n                }}>+</button>\r\n            </div>\r\n        </li>\r\n    }\r\n}\r\n\r\n\r\nexport default connect(state => ({\r\n}), { addToCart })(CartItem)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport CartItem from './cartItem'\r\nimport { addToCart, clearCart } from '../actions'\r\nimport './cart.css'\r\n\r\nclass Cart extends Component {\r\n    render() {\r\n        const { cartOpen, cart, clearCart } = this.props\r\n\r\n        return <div className={`cart ${cartOpen ? 'cartOpen' : ''}`}>\r\n            <h2>רשימת קניות</h2>\r\n            {cart.length ?  <img onClick={clearCart} className='clear' src='http://cdn.onlinewebfonts.com/svg/img_411751.png' />:null}\r\n            <ul>{\r\n                cart.map(product => <CartItem key={product.id} product={product} />)\r\n            }</ul>\r\n            <h3>\r\n                <label>סה\"כ:</label>\r\n                <span>₪{cart.reduce((acc, curr) => (acc + (curr.price * curr.amount)), 0)}</span>\r\n            </h3>\r\n        </div>\r\n    }\r\n}\r\n\r\n\r\nexport default connect(state => ({\r\n    cart: state.cart\r\n}), { addToCart, clearCart })(Cart)","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport './login.css'\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {}\r\n    }\r\n    submit = e => {\r\n        e.preventDefault()\r\n        console.log('submit')\r\n\r\n        const { username, password } = this.refs\r\n\r\n        const loginObj = {\r\n            username: username.value,\r\n            password: password.value\r\n        }\r\n        console.log(loginObj)\r\n        axios.post('http://localhost:1200/login', loginObj)\r\n            .then(res => {\r\n                if (res.data.error)\r\n                    this.setState({ error: res.data.error })\r\n                else this.setState({ error: '' })\r\n                console.log(res)\r\n            })\r\n            .catch(res => {\r\n                this.setState({ error: res.data.error })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { error } = this.state\r\n        return <form className='login' onSubmit={this.submit}>\r\n\r\n            <label>\r\n                <span>שם משתמש:</span>\r\n                <input required ref='username' type='text' placeholder='שם המשתמש שלך' />\r\n            </label>\r\n\r\n            <label>\r\n                <span>סיסמא:</span>\r\n                <input required ref='password' type='password' placeholder='הסיסמא שלך' />\r\n            </label>\r\n\r\n            {error ? <div className='error'>{error}</div> : null}\r\n            <input type='submit' value='כניסה' />\r\n        </form>\r\n    }\r\n}\r\n\r\nexport default Login","import React, { Component } from 'react'\r\nimport { changeAdminMode } from '../actions'\r\nimport { connect } from 'react-redux'\r\nimport Cart from '../cart'\r\nimport Modal from '../modal'\r\nimport Login from '../login'\r\nimport './header.css'\r\n\r\n\r\nclass Header extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {}\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { changeAdminMode, adminMode } = this.props,\r\n            { cartOpen, loginMode } = this.state\r\n\r\n        return <>\r\n            <Modal open={loginMode} title='כניסה'>\r\n                <Login />\r\n            </Modal>\r\n            <header>\r\n                <div className='content'>\r\n                    <div onClick={() => changeAdminMode(!adminMode)} className='adminModeBtn'>{adminMode ? 'מצב מנהל' : 'עבור למצב מנהל'}</div>\r\n                    <div className='loginBtn' onClick={() => this.setState({ loginMode: !loginMode })}>כניסה</div>\r\n                    <div>SuperStore</div>\r\n                    <div className='headerCart'>\r\n                        <span onClick={() => this.setState({ cartOpen: !this.state.cartOpen })}>עגלה</span>\r\n                        <Cart cartOpen={cartOpen} />\r\n                    </div>\r\n                </div>\r\n            </header>\r\n        </>\r\n    }\r\n}\r\n\r\nexport default connect(state => ({\r\n    adminMode: state.adminMode\r\n}), { changeAdminMode })(Header)","import React from 'react';\nimport './App.css';\nimport ProductsList from './productsList'\nimport Header from './header'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <ProductsList />\n    </div>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux'\r\nimport adminMode from './adminMode'\r\nimport products from './products'\r\nimport cart from './cart'\r\n\r\nconst allReducers = combineReducers({\r\n    cart,\r\n    products,\r\n    adminMode\r\n})\r\n\r\nexport default allReducers","export default (state = [], data) => {\r\n\r\n    switch (data.type) {\r\n        case 'ADD_TO_CART':\r\n            const index = state.findIndex(p => p.id == data.payload.id)\r\n            if (index == -1)\r\n                state.push(data.payload)\r\n            else {\r\n                if (data.payload.amount <= 0)\r\n                    state.splice(index, 1)\r\n                else\r\n                    state[index] = data.payload\r\n            }\r\n\r\n            return [...state]\r\n        case 'CLEAR_CART':\r\n            return []\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","export default (state = [], data) => {\r\n\r\n    switch (data.type) {\r\n        case 'PRODUCTS_FETCHED':\r\n            return data.payload\r\n\r\n        case 'PRODUCTS_FETCHED_ERROR':\r\n            return []\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","export default (state = false, data) => {\r\n\r\n    switch (data.type) {\r\n        case 'ADMIN_MODE_CHANGED':\r\n            return data.payload\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport { createLogger } from 'redux-logger'\nimport thunk from 'redux-thunk'\n\nimport allReducrs from './reducers'\n\nconst store = createStore(allReducrs, applyMiddleware(thunk, createLogger()))\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>\n    , document.getElementById('root')\n);"],"sourceRoot":""}